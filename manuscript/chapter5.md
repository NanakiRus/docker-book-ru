# Глава 5. Следующие шаги

На данном этапе наше приложение работает, и мы можем извлекать данные о погоде из API или из нашего кеша, которым служит база данных, но еще многое предстоит узнать. Создание одного демонстрационного приложения не сделает вас экспертом в Docker, поэтому давайте взглянем на кое-что другое, что мы можем сделать, чтобы продолжить улучшение этого приложения и узнать больше о Docker.

## Дальнейшая разработка

### Убрать длинные Docker-команды

Сейчас запуск и остановка нашего контейнера — сложный процесс и довольно склонный к ошибке. Я предполагаю, что вы не хотите вводить каждый раз `docker run -d --rm --name=weather-app -p 38000:80 -v $(pwd):/var/www/html --link weather-db -e DATABASE_HOST='weather-db' -e DATABASE_USER='admin' -e DATABASE_PASSWORD='p23l%v11p' -e DATABASE_NAME='weather' shiphp/weather-app`, когда вы хотите начать работать над своим кодом, но вы можете довольно легко избежать этого, написав [npm-скрипты](https://docs.npmjs.com/cli/run-script), [bash-команды](http://tldp.org/LDP/abs/html/) или PHP-скрипты.

### Docker Compose

Другой способ привести в порядок рабочий процесс Docker — использовать [Docker Compose](https://docs.docker.com/compose/). Compose позволит нам написать один файл конфигурации, который запускает все наши контейнеры и связывает их вместе автоматически. Больше не нужно вводить две или три команды только для того, чтобы запустить приложение. Кроме того, файл Docker Compose можно использовать для размещения наших контейнеров в [Docker Swarm](https://docs.docker.com/swarm/).

### Хостинг

В этом руководстве основное внимание уделяется локальной разработке с помощью Docker, но вы также можете размещать высокомасштабируемые и доступные веб-приложения в контейнерах Docker. Нет конца количеству способов, которыми вы можете настроить приложения для работы в облаке, но посмотрите на [Docker Swarm](https://docs.docker.com/engine/swarm/), [Kubernetes](https://kubernetes.io/), [Amazon EC2](https://aws.amazon.com/ec2/) и [Hyper.sh](https://hyper.sh/) — это только несколько вариантов.

### Доступ к базе данных извне

В настоящее время база данных нашего приложения доступна только из контейнера, но что, если мы хотим просмотреть его с помощью графического инструмента, такого как [Datagrip](https://www.jetbrains.com/datagrip/), [phpMyAdmin](https://www.phpmyadmin.net/) или [Sequel Pro](https://www.sequelpro.com/)? Нам придется открыть порт и продумать все аспекты безопасности.

### Тестирование и непрерывная интеграция

Я огромный сторонник тестирования и непрерывной интеграции, и одним из преимуществ Docker является то, что он может сделать тесты более быстрыми и более воспроизводимыми в разных окружениях. Мой любимый инструмент для непрерывной интеграции это [Codeship](https://codeship.com/), но Docker работает с [Jenkins](https://jenkins.io/), [Travis](https://travis-ci.org/)) и с большинством других платформ CI.

### Чтение и сохранение логов

Наконец, отладка вашего приложения PHP в Docker с помощью логов, видимо, является необходимым шагом для любого реального приложения. Docker имеет мощную команду [logs](https://docs.docker.com/engine/reference/commandline/logs/), которую мы еще не рассмотрели.

## Ресурсы

Хотя эта книга не затрагивает вышеуказанные темы подробно, существует множество отличных бесплатных ресурсов по обучению Docker более глубоко. Некоторые из них:

* [Официальная документация по Docker](https://docs.docker.com/) — документация немного сухая, но вы обязательно должны добавить её в закладки в качестве справочника. Я постоянно держу её открытой в своём браузере.

* [Stack Overflow](https://stackoverflow.com/questions/tagged/docker) — здесь можно найти весьма специфичные вопросы, но в некоторых из наиболее популярных вопросов можно найти полезные передовые практики в своих ответах.

* [Серия бесплатных книг по Docker от The New Stack](https://thenewstack.io/ebooks/) — хорошо подходит для обзора терминологии и инструментов, доступных для разработки с помощью Docker. Эта серия книг довольно высокого уровня.

Кроме того, мы регулярно публикуем советы и руководства по Docker в блоге [shiphp.com](https://www.shiphp.com/#blog). Посты там связаны с созданием PHP-приложений на Docker с использованием определенных фреймворков, таких как WordPress или Laravel, а также общие темы по PHP и обновления языка.